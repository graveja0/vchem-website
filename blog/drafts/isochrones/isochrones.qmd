---
title: "Isochrones"
---

```{r}
# ## Not run: 
# library(sf)
# library(osrm)
# apotheke.sf <- st_read(system.file("gpkg/apotheke.gpkg", package = "osrm"),
#   quiet = TRUE
# )
# # Get isochones with lon/lat coordinates
# iso <- osrmIsochrone(loc = c(13.43, 52.47), breaks = seq(0, 12, 2))
# # Map
# plot(iso["isomax"], breaks = sort(unique(c(iso$isomin, iso$isomax))))
# 
# # Get isochones with an sf POINT
# iso2 <- osrmIsochrone(loc = apotheke.sf[11, ], breaks = seq(0, 12, 2))
# # Map
# if (require("mapsf")) {
#   mapsf::mf_map(
#     x = iso2, var = "isomin", type = "choro",
#     breaks = sort(unique(c(iso2$isomin, iso2$isomax))),
#     pal = "Burg", border = NA, leg_pos = "topleft",
#     leg_val_rnd = 0,
#     leg_frame = TRUE, leg_title = "Isochrones\n(min)"
#   )
# }
# 
# pharmacy <- st_read(system.file("gpkg/apotheke.gpkg", package = "osrm"), 
#                     quiet = TRUE)
# travel_time <- osrmTable(loc = pharmacy)
# travel_time$durations[1:5,1:5]
# 


```

